<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>trak.js demo area - labs@tmw</title>
		<meta name="description" content="labs@tmw - where TMW talks Tech">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="/css/kickoff.css">
		<script type="text/javascript" src="//use.typekit.net/luc1phj.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
		<script>var pageName = 'demo';</script>

		<script>
			/* grunticon Stylesheet Loader | https://github.com/filamentgroup/grunticon | (c) 2012 Scott Jehl, Filament Group, Inc. | MIT license. */
window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(o){var r=t.document.createElement("link"),a=t.document.getElementsByTagName("script")[0];r.rel="stylesheet",r.href=e[o&&n?0:o?1:2],a.parentNode.insertBefore(r,a)},r=new t.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}};
			grunticon(["/img/icons/icons.data.svg.css", "/img/icons/icons.data.png.css", "/img/icons/icons.fallback.css"]);
		</script>
		<noscript><link href="/img/icons/icons.fallback.css" rel="stylesheet"></noscript>

		<!-- <script type="text/javascript" src="/js/libs/modernizr.min.js"></script> -->

		<!-- Mobile & Fav Icons -->
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/lbtmw-144.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/lbtmw-114.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/lbtmw-72.png">
		<link rel="apple-touch-icon-precomposed" href="/img/favicons/lbtmw-57.png">
		<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
		<meta name="apple-mobile-web-app-title" content="labs@tmw">

		<link rel="alternate" type="application/atom+xml" title="labs@tmw Feed" href="http://feeds.feedburner.com/TMWLabs" />
	</head>
	<body>

<div class="sidebar">
	<header class="masthead">
	<h1 class="logo"><a href="/">tech<span class="dot">.</span><span class="tmwBrand">tmw</span></a></h1>
	<p class="logo-tagline">Latest news and opinion from the <a href="http://www.tmw.co.uk" title="TMW's website" target="_blank" class="tmwBrand"><strong>tmw</strong></a> tech team</p>

	<nav class="nav">
		<a href="/" class="nav-item">Articles</a>
		<a href="/code" class="nav-item">Code</a>
		<a href="/team" class="nav-item">Team</a>
		<a href="/work" class="nav-item">Work</a>
	</nav>
</header>


	<footer class="footer" role="contentinfo">
	<div class="socialLinks">
		<a href="http://github.com/tmwagency/" class="socialLinks-item"><span aria-hidden="true" class="icon-small icon-github"></span>@tmwagency</a>
		<a href="http://twitter.com/tmwTechTeam/" class="socialLinks-item"><span aria-hidden="true" class="icon-small icon-twitter"></span>@tmwTechTeam</a>
		<a href="http://tmwagency.github.io/kickoff/" class="socialLinks-item"><span aria-hidden="true" class="icon-small icon-kickoff"></span>We also maintain Kickoff</a>
		<a href="http://eepurl.com/KaKbv" class="socialLinks-item"><span aria-hidden="true" class="icon-small icon-subscribe"></span>Subscribe by Email</a>
	</div>
</footer>

</div>

<div class="content">
	<article class="content-inner entry entry--single" role="main">
	<h1 class="sectionTitle">demo</h1>

	


	<div class="entry-content">
		<h1 class="entry-title entry-title--single">trak.js demo area</h1>

		<a href="../trak.html">Back to documentation</a>

		<p>To test this, please install the <a href="https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna">Google Analytics debugger</a> on the Chrome Web Store</p>
<h4>Data attributes:</h4>
<h5>Standard usage</h5>
<p>This is when you define any string as the category, action or label</p>
<ul>
	<li>
		Category: test_action, Action: test_action, Label: test_label <br>
		<a href="#pagehref" title="1 title" data-trak='{"category":"Test category","action":"Test action","label":"Test label","options":{"eventName":"Event name test"}}'>Data attr test #1</a>
	</li>
</ul>

<h5>Wildcard usage</h5>
<ul>
	<li>
		<h6>page.title &amp; page.href</h6>
		Category: Page title, Action: window.location.href, Label: this is a label <br>
		<a href="#pagehref" title="1 title" data-trak='{"category":"page.title","action":"page.href","label":"this is a label"}'>Data attr test #2</a>
	</li>
	<li>
		<h6>link.title &amp; link.href</h6>
		Category: Link title, Action: #linkhref, Label: this is a label <br>
		<a href="#linkhref" title="Link title" data-trak='{"category":"link.title","action":"link.href","label":"this is a label"}'>Data attr test #3</a>
	</li>
	<li>
		<h6>referrer</h6>
		Category: document.referrer, Action: #linkhref, Label: this is a label <br>
		<a href="#linkhref" title="Link title" data-trak='{"category":"referrer","action":"link.href","label":"this is a label"}'>Data attr test #4</a>
	</li>
</ul>


<h4>JS implementation:</h4>
<ul>
	<li>
		Category: test_category_(using_js), Action: test_action_(using_js), Label: test_label_(using_js) <br>
		<a href="#pagehref" id="js-test1" title="1 title">JS Test #1</a>
	</li>
	<li>
		Category: page.href, Action: page.title, Label: test_label_(using_js) <br>
		<a href="#pagehref" id="js-test2" title="1 title">JS Test #2</a>
	</li>
	<li>
		Category: link.href, Action: link.title, Label: test_label_(using_js) <br>
		<a href="#pagehref" id="js-test3" title="1 title">JS Test #3</a>
	</li>
	<li>
		Category: document.referrer, Action: link.title, Label: test_label_(using_js) <br>
		<a href="#pagehref" id="js-test4" title="1 title">JS Test #4</a>
	</li>
	<li>
		Category: Tracked with JS not attr call, Action: link.title, Label: test_label_(using_js) <br>
		<a href="#pagehref" id="js-test5" title="1 title" data-trakwithjs data-trak='{"category":"Tracked with JS not attr call","action":"link.href","label":"this is a label"}'>JS Test #5</a>
	</li>
</ul>


<script src="https://cdn.rawgit.com/tmwagency/trak.js/master/dist/trak.js"></script>
<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-51572104-1', 'tmwagency.github.io', {
			'cookieDomain': 'none'
		});

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-XXXXX-X']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
</script>

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-KDXCWV"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KDXCWV');</script>
<!-- End Google Tag Manager -->



<script>
	document.addEventListener('DOMContentLoaded', function(e) {
		trak();

		var test1 = document.querySelector('#js-test1');
		var test2 = document.querySelector('#js-test2');
		var test3 = document.querySelector('#js-test3');
		var test4 = document.querySelector('#js-test4');
		var test5 = document.querySelector('#js-test5');

		test1.addEventListener('click', function() {
			trak.event('Test action (using js)', 'Test category (using js)', 'Test label (using js)');
		}, true);
		test2.addEventListener('click', function() {
			trak.event(window.location.href, document.title, 'Test label (using js)');
		}, true);
		test3.addEventListener('click', function() {
			trak.event(this.href, this.title, 'Test label (using js)');
		}, true);
		test4.addEventListener('click', function() {
			trak.event(document.referrer, this.title, 'Test label (using js)', {eventName: 'Test eventName'});
		}, true);
		test5.addEventListener('click', function() {
			trak.attrEvent.call(this);
		}, true);

		/**
		 * Change some of the default options
		 */
		// trak.options.clean = false;
		// trak.options.trackType = 'gtm';
		// Add more tracking codes
		// trak.options.additionalTypes = function() {
		// 	// UDM.evq.push(['trackEvent', trak.clean(category), trak.clean(action)]); // trak.clean(label)
		// 	console.log('Fire additional event');
		// }
	});
</script>
	</div>
</article>

</div>

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-27779119-7', 'tmw.co.uk');
		ga('send', 'pageview');
	</script>
</body>
</html>